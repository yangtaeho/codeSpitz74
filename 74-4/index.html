<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>render</title>
    <script src="stage.js"></script>
    <script src="renderer.js"></script>
    <script src="table-renderer.js"></script>
    <script src="canvas-renderer.js"></script>
    <script src="console-renderer.js"></script>

    <script src="game.js"></script>
    <script src="panel.js"></script>
</head>
<body>

    <div id="title">
        <btn class='btn'>button</btn>
    </div>
    <div id="stageInfo">
        <div>Stage</div>
        <!--  -->
        <div class="stage"> 
        </div>
    </div>
</body>
<!-- 18-01-31 스터디 추가 내용... 패널이 모든 걸 관장.. -->
<script>
const sel = s=>document.querySelector(s);
const game = new Game(
    sel('body'), 10, 20,
    Game.title,
    game=>{
        sel('#title .btn').onclick =_=>game.setState(Game.stageIntro);
        return sel('#title');
    },
    null,
    Game.stageIntro,
    game=>sel('#stageIntro'),
    (game, v)=>{
        sel('#stageIntro .stage').innerHTML = v;
        setTimeout(_=>game.setState(Game.play), 500);
    }
);
    //패널 초기화.. 인트로 띄우고 게임의 상태를 플레이로 바꿔줌... 
Panel.get(game,
    game => sel('#stageIntro'),
    (game, v)=>{
        sel('#stageIntro .stage').innerHTML = v;
        setTimeout(_=>game.setState(Game.play), 500);
    }
);
</script>
</html>